\section{Systemsoftware f"ur Mesh-Netzwerk}

Im Kapitel 4 haben wir mehrere Hardware-L"osungen für ein Mesh-Netztwerk
vorgestellt. F"ur alle im Kapitel 4 vorgestellten PCI-, MiniPCI- und
PCMCIA-Karten werden vom Hersteller dieser WLAN-Karten Windows-Treiber
bereitgestellt. Und nur wenige Hersteller (z.B Intel) haben auch Linux-Treiber
f"ur Ihre Karten implementiert. Gl"ucklicherweise existiert f"ur
WLAN-Karten mit Atheros-Chipsatz der Open-Source Linux-Treiber MadWifi,
der alle im Kapitel 4 aufgelisteten WLAn-Karten mit Atheros-Chipsatz
unterst"utzt. Be Soho-Routern sieht das Ganze etwas anders aus. Hier gibt
es nicht so viele M"oglichkeiten bei der Wahl nach einer Software.
Die meisten Hersteller von SoHo-Routern stellen den Source-Code des
Betriebssystems f"ur SoHo-Router nicht zur Verf"ugung.

In diesem Kapitel wird verschiedene Treiber- und Routing-Software
vorgestellt, die zusammen mit der Hardware aus Kapitel 4 die Realieserung
von Ad-Hoc Mesh-Netzwerken erm"oglicht.

\subsection{Linux MadWiFi-Treiber}

Linux MadWifi-Treiber ist Linux Kernel Treiber f"ur WLAN-Karten mit
Atheros Chipsatz. Linux MadWifi-Treiber ist heutzutage einer der
fortgeschrittensten Linux Treiber f"ur WLAN-Karten. Der Treiber ist stabil
und hat eine gro"se Benutzergemeinschaft. Der MadWifi-Treiber selbst ist
Open-Source, verwendet aber eine propritäre Softwareschicht Hardware
Abstraction Layer (HAL), die nur in bin"arer Form vorhanden ist.

Das Hardware Abstraction Layer (HAL) wird vom MadWifi-Treiber gebraucht,
um die Atheros-Chips ansprechen zu k"onnen. Daf"ur wurde bisher ein
Closed-Source-Modul verwendet. Dies hat unter anderem damit zu tun,
dass die Atheros-Chips"atze prinzipiell auf Frequenzen funken k"onnten,
f"ur die sie nicht zugelassen sind - beispielsweise weil diese vom Milit"ar
zur Kommunikation verwendet werden.

Durch das propriet"are Modul war der Madwifi-Treiber bisher jedoch von
einer Aufnahme in den Linux-Kernel ausgeschlossen. Die Entwickler hatten
au"serdem das Problem, dass sie Fehler unter Umst"anden nicht beheben
konnten, da sie nicht nachvollziehen konnten, wie der HAL-Baustein
arbeitet.

MadWifi selbst wird daher ab sofort nicht weiterentwickelt. Stattdessen
setzen die Programmierer auf OpenHAL, eine Linux-Portierung des
HAL-Modules des in OpenBSD verf"ugbaren freien Atheros-Treibers. In der
Vergangenheit wurde vom Software Freedom Law Center (SFLC) best"atigt,
dass die durch Reverse Engineering entstandene Software keine Copyrights
verletzt. Solche Behauptungen hatten die Entwicklung lange ausgebremst.

Der neue Treiber "`Ath5k"' wird MadWifi nun ersetzen und soll nicht nur
die freie Komponente OpenHAL einsetzen, sondern auch mit dem neuen
Linux-WLAN-System Mac80211 zusammenarbeiten, so dass der Treiber in den
offiziellen Linux-Kernel gelangen kann. MadWifi soll jedoch weiter mit
Fehlerkorrekturen und HAL-Updates versorgt werden.

\textbf{Links:}

\begin{itemize}
\item \url{http://madwifi.org/}
\item \url{http://madwifi.org/wiki/About/ar5k}
\item \url{http://madwifi.org/wiki/About/OpenHAL}
\item \url{http://madwifi.org/wiki/UserDocs/GettingMadwifi}
\item \url{http://madwifi.org/wiki/Compatibility}
\item \url{http://www.intellinuxwireless.org/?p=mac80211}
\end{itemize}

\subsection{OpenWRT}

OpenWRT ist eine GNU/Linux-Distribution f"ur WLAN-Router. Anstatt einer
statischen Firmware setzt OpenWRT auf ein voll beschreibbares Dateisystem
sowie einen Paketmanager. OpenWRT l"auft unter anderem auf Ger"aten der
Firmen Linksys, ALLNET, ASUS, Belkin, Buffalo, Microsoft und Siemens.

\textbf{Vorteile:}

\begin{itemize}
	\item Flexibilit"at
	\item Erweiterbarkeit
	\item Individualisierbarkeit
	\item Sicherheit
	\item Gewohnte Linux-Flexibilit"at und Funktionsumfang! 
\end{itemize}

\textbf{Nachteile:}

\begin{itemize}
	\item Standardm"a"sig sind nur die n"otigsten Unix-Tools vorhanden 
\end{itemize}

\textbf{Links:}

\begin{itemize}
	\item \url{http://openwrt.org/}
	\item \url{http://toh.openwrt.org/}
\end{itemize}

\subsection{Mesh-Routing Software}

In diesem Abschnitt werden Routing-Deamonen vorgestellt, die ein bestimmtes
Routing-Protokoll implementieren und auf jedem Knoten in einem
Mesh-Netzwerk ausgef"uhrt werden. Diese Daemonen tauschen Roting-Informationen
aus und machen es m"oglch, Nachrichten von einem Knoten zu einem anderen
Knoten im Mesh-Netzwerk zu transportieren.

\subsubsection{olsr.org OLSR daemon}

Der olsr.org OLSR daemon ist eine Implementierung des Optimized Link
State Routing Protokolls. OLSR ist ein Routing-Protokoll f"ur mobile Ad-Hoc
Netzwerke. Der Protokoll ist pro-aktiv, tabellengesteuert und nutzt die
Technik Multipoint Relaying (MPR) zum Fluten von Nachrichten. olsrd
implementiert ausserdem auch eine popul"are Erweiterung Link Quality
Extension. Zur Zeit ist die Implementierung von olsrd verf"ugbar für
GNU/Linux, Windows, OS X, FreeBSD, OpenBSD and NetBSD. olsrd ist eine
gut strukturierte und kodierte Implementierung, die leicht zu warten,
zu erweitern und auf andere Platforme zu portieren sein soll. Die
Implementierung ist konform zu RFC3626 in Bezug auf die Kernfunktionalit"at
und die zus"atzlichen Funktionen. olsrd unterst"utz das Konzept von ladbaren
Plug-Ins. Mit diesen Plug-Ins kann man benutzerdefinierte Pakete mit
Hilfe des OLSR MPR Flutens versenden und behandeln oder irgendeine andere
zus"atzliche Funktionalit"at bereitstellen.

Links:
\begin{itemize}
\item \url{http://www.olsr.org/}
\item \url{http://ietf.org/rfc/rfc3626.txt}
\item \url{http://wiki.freifunk.net/OLSR\_mit\_Windows}
\item \url{http://wireless.subsignal.org/index.php?title=Laptop\_mit\_OLSR}
\item \url{http://wiki.opennet-initiative.de/index.php/OLSR}
\end{itemize}

\subsubsection{Open-Mesh B.A.T.M.A.N. daemon}

Der B.A.T.M.A.N.-Daemon steht bislang f"ur Linux, FreeBSD und Macintosh
OS-X zur Verf"ugung. Die Entwicklungsarbeit konzentriert sich jedoch
in erster Linie auf Linux, weshalb es vorkommen kann, dass erweiterte
Funktionen unter anderen Betriebssystemen erst mit einer gewissen
Verz"ogerung zur Verf"ugung stehen.

Linux-Installationspakete des B.A.T.M.A.N.-Daemon batmand gibt es f"ur
Debian, OpenZaurus und OpenWRT. Zum Kompilieren aus dem Quelltext genügt
ein einfaches make und make install im Sourcecodeverzeichnis. Als einzige
Abh"angigkeit wird die Bibliothek libpthread vorausgesetzt, die auf einem
Linux-System, "ublicherweise bereits installiert sein sollte.

Um "uber ein B.A.T.M.A.N.-Mesh ins Internet gehen zu k"onnen, muss
au"serdem unter Linux das Kernelmodul tun installiert sein. Es ist
im Standardkernel der Linuxdistributionen enthalten und wird beim
ersten Start des B.A.T.M.A.N.-Daemons automatisch geladen. Wer einen
selbstkompilierten Kernel einsetzt, findet es zum Beispiel in xconfig
in der Abteilung Network Device Support unter der Bezeichnung Universal
TUN/TAP device driver support.

Links:
\begin{itemize}
\item \url{https://www.open-mesh.net/batman}
\item \url{https://www.open-mesh.net/Members/adagio/batman-install-howto-stichworte}
\item \url{http://open-mesh.net/batman/doc/batmand\_howto.pdf}
\item \url{https://www.opensourcepress.de/fileadmin/osp/pdf/mesh\_leseprobe.pdf}
\end{itemize}
